<div>
    <!-- Button trigger modal -->
    <div class="caixa">
        

        <input type="button" class="btn btn-success fonteGrande" data-toggle="modal" data-target="#exampleModal" value="Marcar Exame"><span id="espaco"></span>
        <input type="button" class="btn btn-primary fonteGrande" onclick="location.href='http://localhost:3000/exame';" value="Cadastrar Exame" /><span id="espaco"></span>
        <input type="button" class="btn btn-warning fonteGrande" onclick="location.href='http://localhost:3000/paciente';" value="Cadastrar Paciente" >        
       

    </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Marcação de exame</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div>
                    <label>Nome do paciente:</label>
                    <input id="pacienteInput" type="text" name="buscaNome" placeholder="Digite o nome aqui" value=''>
                    <ul class="list-group" id="pacienteList">
                        
                    </ul>
                </div>
                <label>Exame:</label>
                <select>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
                <label>Data:</label>    
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
    </div>                
</div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>

<script>
    
    

    function redirectTo(){

        document.getElementById("myButton").onclick = function () {
            location.href = "www.yoursite.com";
        };
    }

        
   

    function createListItem(id, nome){
        return          "<li paciente-id='" + id + "' class='list-group-item'>" +
                            "<span class='name'>" + nome + "</span>" +
                                "<button class='btn btn-default btn-xs pull-right remove-item'>" +
                                "Select" +
                            "</button>" +
                        "</li>";
        
    }

    function addListItemsToList(listItems){
        $('#pacienteList').html('');
        $('#pacienteList').html(listItems);
    }

    $('#pacienteInput').on('input',function(e){
        
        if ($(this).val() != ''){
        axios
            .get("http://localhost:3000/index/paciente/" + $(this).val())
            .then(response => {
                //popular lista
                var combinedMarkup = '';
                response.data.forEach(paciente => 
                        combinedMarkup += createListItem(paciente._id, paciente.nome));
                addListItemsToList(combinedMarkup);
            });
        } else {
            $('#pacienteList').html('');
        }
    });


</script>